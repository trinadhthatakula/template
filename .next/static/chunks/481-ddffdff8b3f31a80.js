(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[481],{11163:function(e,t,n){e.exports=n(80880)},158:function(e,t,n){"use strict";n.d(t,{J:function(){return xe}});var r=n(67294),o=n.t(r,2);function l(e,t,...n){if(e in t){let r=t[e];return"function"==typeof r?r(...n):r}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,l),r}function u(...e){return Array.from(new Set(e.flatMap((e=>"string"==typeof e?e.split(" "):[])))).filter(Boolean).join(" ")}var a=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(a||{}),i=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(i||{});function s({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:u=!0,name:a}){let i=d(t,e);if(u)return c(i,n,r,a);let s=null!=o?o:0;if(2&s){let{static:e=!1,...t}=i;if(e)return c(t,n,r,a)}if(1&s){let{unmount:e=!0,...t}=i;return l(e?0:1,{0:()=>null,1:()=>c({...t,hidden:!0,style:{display:"none"}},n,r,a)})}return c(i,n,r,a)}function c(e,t={},n,o){let{as:l=n,children:a,refName:i="ref",...s}=v(e,["unmount","static"]),c=void 0!==e.ref?{[i]:e.ref}:{},f="function"==typeof a?a(t):a;"className"in s&&s.className&&"function"==typeof s.className&&(s.className=s.className(t));let m={};if(t){let e=!1,n=[];for(let[r,o]of Object.entries(t))"boolean"==typeof o&&(e=!0),!0===o&&n.push(r);e&&(m["data-headlessui-state"]=n.join(" "))}if(l===r.Fragment&&Object.keys(p(s)).length>0){if(!(0,r.isValidElement)(f)||Array.isArray(f)&&f.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${o} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(s).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));let e=f.props,t="function"==typeof(null==e?void 0:e.className)?(...t)=>u(null==e?void 0:e.className(...t),s.className):u(null==e?void 0:e.className,s.className),n=t?{className:t}:{};return(0,r.cloneElement)(f,Object.assign({},d(f.props,p(v(s,["ref"]))),m,c,function(...e){return{ref:e.every((e=>null==e))?void 0:t=>{for(let n of e)null!=n&&("function"==typeof n?n(t):n.current=t)}}}(f.ref,c.ref),n))}return(0,r.createElement)(l,Object.assign({},v(s,["ref"]),l!==r.Fragment&&c,l!==r.Fragment&&m),f)}function d(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map((e=>[e,void 0]))));for(let r in n)Object.assign(t,{[r](e,...t){let o=n[r];for(let n of o){if((e instanceof Event||(null==e?void 0:e.nativeEvent)instanceof Event)&&e.defaultPrevented)return;n(e,...t)}}});return t}function f(e){var t;return Object.assign((0,r.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function p(e){let t=Object.assign({},e);for(let n in t)void 0===t[n]&&delete t[n];return t}function v(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}var m=Object.defineProperty,h=(e,t,n)=>(((e,t,n)=>{t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let b=new class{constructor(){h(this,"current",this.detect()),h(this,"handoffState","pending"),h(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return"undefined"==typeof window||"undefined"==typeof document?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},E=(e,t)=>{b.isServer?(0,r.useEffect)(e,t):(0,r.useLayoutEffect)(e,t)};function y(e){let t=(0,r.useRef)(e);return E((()=>{t.current=e}),[e]),t}let g=function(e){let t=y(e);return r.useCallback(((...e)=>t.current(...e)),[t])},P=Symbol();function S(e,t=!0){return Object.assign(e,{[P]:t})}function w(...e){let t=(0,r.useRef)(e);(0,r.useEffect)((()=>{t.current=e}),[e]);let n=g((e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)}));return e.every((e=>null==e||(null==e?void 0:e[P])))?void 0:n}function N(){let e=function(){let e="undefined"==typeof document;returntrue&&(e=>e.useSyncExternalStore)(o)((()=>()=>{}),(()=>!1),(()=>!e))}(),[t,n]=r.useState(b.isHandoffComplete);return t&&!1===b.isHandoffComplete&&n(!1),r.useEffect((()=>{!0!==t&&n(!0)}),[t]),r.useEffect((()=>b.handoff()),[]),!e&&t}var T;let C=null!=(T=r.useId)?T:function(){let e=N(),[t,n]=r.useState(e?()=>b.nextId():null);return E((()=>{null===t&&n(b.nextId())}),[t]),null!=t?""+t:void 0};var x=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(x||{});function I(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}function O(e){return b.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let F=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var M=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(M||{}),k=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(k||{}),L=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(L||{});function R(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(F)).sort(((e,t)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(t.tabIndex||Number.MAX_SAFE_INTEGER))))}var A=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(A||{});function D(e,t=0){var n;return e!==(null==(n=O(e))?void 0:n.body)&&l(t,{0:()=>e.matches(F),1(){let t=e;for(;null!==t;){if(t.matches(F))return!0;t=t.parentElement}return!1}})}var H=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(H||{});"undefined"!=typeof window&&"undefined"!=typeof document&&(document.addEventListener("keydown",(e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")}),!0),document.addEventListener("click",(e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")}),!0));let j=["textarea","input"].join(",");function B(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let l=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,u=Array.isArray(e)?n?function(e,t=(e=>e)){return e.slice().sort(((e,n)=>{let r=t(e),o=t(n);if(null===r||null===o)return 0;let l=r.compareDocumentPosition(o);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}(e):e:R(e);o.length>0&&u.length>1&&(u=u.filter((e=>!o.includes(e)))),r=null!=r?r:l.activeElement;let a,i=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,u.indexOf(r))-1;if(4&t)return Math.max(0,u.indexOf(r))+1;if(8&t)return u.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=32&t?{preventScroll:!0}:{},d=0,f=u.length;do{if(d>=f||d+f<=0)return 0;let e=s+d;if(16&t)e=(e+f)%f;else{if(e<0)return 3;if(e>=f)return 1}a=u[e],null==a||a.focus(c),d+=i}while(a!==l.activeElement);return 6&t&&function(e){var t,n;return null!=(n=null==(t=null==e?void 0:e.matches)?void 0:t.call(e,j))&&n}(a)&&a.select(),2}let _=(0,r.createContext)(null);_.displayName="OpenClosedContext";var $=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))($||{});function G(){return(0,r.useContext)(_)}function U({value:e,children:t}){return r.createElement(_.Provider,{value:e},t)}function K(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function W(e,t,n){let o=y(t);(0,r.useEffect)((()=>{function t(e){o.current(e)}return document.addEventListener(e,t,n),()=>document.removeEventListener(e,t,n)}),[e,n])}function q(e,t,n){let o=y(t);(0,r.useEffect)((()=>{function t(e){o.current(e)}return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)}),[e,n])}function V(...e){return(0,r.useMemo)((()=>O(...e)),[...e])}var X=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(X||{});let Y=f((function(e,t){let{features:n=1,...r}=e;return s({ourProps:{ref:t,"aria-hidden":2===(2&n)||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...4===(4&n)&&2!==(2&n)&&{display:"none"}}},theirProps:r,slot:{},defaultTag:"div",name:"Hidden"})}));var J=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(J||{});function z(){let e=(0,r.useRef)(0);return q("keydown",(t=>{"Tab"===t.key&&(e.current=t.shiftKey?1:0)}),!0),e}var Q=n(73935);let Z=(0,r.createContext)(!1);function ee(){return(0,r.useContext)(Z)}function te(e){let t=g(e),n=(0,r.useRef)(!1);(0,r.useEffect)((()=>(n.current=!1,()=>{n.current=!0,function(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}((()=>{n.current&&t()}))})),[t])}let ne=r.Fragment;let re=r.Fragment,oe=(0,r.createContext)(null);let le=(0,r.createContext)(null);function ue(){let e=(0,r.useContext)(le),t=(0,r.useRef)([]),n=g((n=>(t.current.push(n),e&&e.register(n),()=>o(n)))),o=g((n=>{let r=t.current.indexOf(n);-1!==r&&t.current.splice(r,1),e&&e.unregister(n)})),l=(0,r.useMemo)((()=>({register:n,unregister:o,portals:t})),[n,o,t]);return[t,(0,r.useMemo)((()=>function({children:e}){return r.createElement(le.Provider,{value:l},e)}),[l])]}let ae=f((function(e,t){let n=e,o=(0,r.useRef)(null),l=w(S((e=>{o.current=e})),t),u=V(o),a=function(e){let t=ee(),n=(0,r.useContext)(oe),o=V(e),[l,u]=(0,r.useState)((()=>{if(!t&&null!==n||b.isServer)return null;let e=null==o?void 0:o.getElementById("headlessui-portal-root");if(e)return e;if(null===o)return null;let r=o.createElement("div");return r.setAttribute("id","headlessui-portal-root"),o.body.appendChild(r)}));return(0,r.useEffect)((()=>{null!==l&&(null!=o&&o.body.contains(l)||null==o||o.body.appendChild(l))}),[l,o]),(0,r.useEffect)((()=>{t||null!==n&&u(n.current)}),[n,u,t]),l}(o),[i]=(0,r.useState)((()=>{var e;return b.isServer?null:null!=(e=null==u?void 0:u.createElement("div"))?e:null})),c=(0,r.useContext)(le),d=N();return E((()=>{!a||!i||a.contains(i)||(i.setAttribute("data-headlessui-portal",""),a.appendChild(i))}),[a,i]),E((()=>{if(i&&c)return c.register(i)}),[c,i]),te((()=>{var e;!a||!i||(i instanceof Node&&a.contains(i)&&a.removeChild(i),a.childNodes.length<=0&&(null==(e=a.parentElement)||e.removeChild(a)))})),d&&a&&i?(0,Q.createPortal)(s({ourProps:{ref:l},theirProps:n,defaultTag:ne,name:"Portal"}),i):null})),ie=f((function(e,t){let{target:n,...o}=e,l={ref:w(t)};return r.createElement(oe.Provider,{value:n},s({ourProps:l,theirProps:o,defaultTag:re,name:"Popover.Group"}))}));Object.assign(ae,{Group:ie});var se=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(se||{}),ce=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(ce||{});let de={0:e=>{let t={...e,popoverState:l(e.popoverState,{0:1,1:0})};return 0===t.popoverState&&(t.__demoMode=!1),t},1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},fe=(0,r.createContext)(null);function pe(e){let t=(0,r.useContext)(fe);if(null===t){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,pe),t}return t}fe.displayName="PopoverContext";let ve=(0,r.createContext)(null);function me(e){let t=(0,r.useContext)(ve);if(null===t){let t=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,me),t}return t}ve.displayName="PopoverAPIContext";let he=(0,r.createContext)(null);function be(){return(0,r.useContext)(he)}he.displayName="PopoverGroupContext";let Ee=(0,r.createContext)(null);function ye(e,t){return l(t.type,de,e,t)}Ee.displayName="PopoverPanelContext";let ge=a.RenderStrategy|a.Static;let Pe=a.RenderStrategy|a.Static;let Se=f((function(e,t){var n;let{__demoMode:o=!1,...u}=e,a=(0,r.useRef)(null),i=w(t,S((e=>{a.current=e}))),c=(0,r.useRef)([]),d=(0,r.useReducer)(ye,{__demoMode:o,popoverState:o?0:1,buttons:c,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:(0,r.createRef)(),afterPanelSentinel:(0,r.createRef)()}),[{popoverState:f,button:p,buttonId:v,panel:m,panelId:h,beforePanelSentinel:b,afterPanelSentinel:E},P]=d,N=V(null!=(n=a.current)?n:p),T=(0,r.useMemo)((()=>{if(!p||!m)return!1;for(let u of document.querySelectorAll("body > *"))if(Number(null==u?void 0:u.contains(p))^Number(null==u?void 0:u.contains(m)))return!0;let e=R(),t=e.indexOf(p),n=(t+e.length-1)%e.length,r=(t+1)%e.length,o=e[n],l=e[r];return!m.contains(o)&&!m.contains(l)}),[p,m]),C=y(v),x=y(h),I=(0,r.useMemo)((()=>({buttonId:C,panelId:x,close:()=>P({type:1})})),[C,x,P]),O=be(),F=null==O?void 0:O.registerPopover,M=g((()=>{var e;return null!=(e=null==O?void 0:O.isFocusWithinPopoverGroup())?e:(null==N?void 0:N.activeElement)&&((null==p?void 0:p.contains(N.activeElement))||(null==m?void 0:m.contains(N.activeElement)))}));(0,r.useEffect)((()=>null==F?void 0:F(I)),[F,I]);let[k,L]=ue(),H=function({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var o;let l=(0,r.useRef)(null!=(o=null==n?void 0:n.current)?o:null),u=V(l),a=g((()=>{var n;let r=[];for(let t of e)null!==t&&(t instanceof HTMLElement?r.push(t):"current"in t&&t.current instanceof HTMLElement&&r.push(t.current));if(null!=t&&t.current)for(let e of t.current)r.push(e);for(let e of null!=(n=null==u?void 0:u.querySelectorAll("html > *, body > *"))?n:[])e!==document.body&&e!==document.head&&e instanceof HTMLElement&&"headlessui-portal-root"!==e.id&&(e.contains(l.current)||r.some((t=>e.contains(t)))||r.push(e));return r}));return{resolveContainers:a,contains:g((e=>a().some((t=>t.contains(e))))),mainTreeNodeRef:l,MainTreeNode:(0,r.useMemo)((()=>function(){return null!=n?null:r.createElement(Y,{features:X.Hidden,ref:l})}),[l,n])}}({mainTreeNodeRef:null==O?void 0:O.mainTreeNodeRef,portals:k,defaultContainers:[p,m]});(function(e,t,n,o){let l=y(n);(0,r.useEffect)((()=>{function n(e){l.current(e)}return(e=null!=e?e:window).addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}),[e,t,o])})(null==N?void 0:N.defaultView,"focus",(e=>{var t,n,r,o;e.target!==window&&e.target instanceof HTMLElement&&0===f&&(M()||p&&m&&(H.contains(e.target)||null!=(n=null==(t=b.current)?void 0:t.contains)&&n.call(t,e.target)||null!=(o=null==(r=E.current)?void 0:r.contains)&&o.call(r,e.target)||P({type:1})))}),!0),function(e,t,n=!0){let o=(0,r.useRef)(!1);function l(n,r){if(!o.current||n.defaultPrevented)return;let l=r(n);if(null===l||!l.getRootNode().contains(l)||!l.isConnected)return;let u=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e);for(let e of u){if(null===e)continue;let t=e instanceof HTMLElement?e:e.current;if(null!=t&&t.contains(l)||n.composed&&n.composedPath().includes(t))return}return!D(l,A.Loose)&&-1!==l.tabIndex&&n.preventDefault(),t(n,l)}(0,r.useEffect)((()=>{requestAnimationFrame((()=>{o.current=n}))}),[n]);let u=(0,r.useRef)(null);W("pointerdown",(e=>{var t,n;o.current&&(u.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)}),!0),W("mousedown",(e=>{var t,n;o.current&&(u.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)}),!0),W("click",(e=>{u.current&&(l(e,(()=>u.current)),u.current=null)}),!0),W("touchend",(e=>l(e,(()=>e.target instanceof HTMLElement?e.target:null))),!0),q("blur",(e=>l(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))),!0)}(H.resolveContainers,((e,t)=>{P({type:1}),D(t,A.Loose)||(e.preventDefault(),null==p||p.focus())}),0===f);let j=g((e=>{P({type:1});let t=e?e instanceof HTMLElement?e:"current"in e&&e.current instanceof HTMLElement?e.current:p:p;null==t||t.focus()})),B=(0,r.useMemo)((()=>({close:j,isPortalled:T})),[j,T]),_=(0,r.useMemo)((()=>({open:0===f,close:j})),[f,j]),G={ref:i};return r.createElement(Ee.Provider,{value:null},r.createElement(fe.Provider,{value:d},r.createElement(ve.Provider,{value:B},r.createElement(U,{value:l(f,{0:$.Open,1:$.Closed})},r.createElement(L,null,s({ourProps:G,theirProps:u,slot:_,defaultTag:"div",name:"Popover"}),r.createElement(H.MainTreeNode,null))))))})),we=f((function(e,t){let n=C(),{id:o=`headlessui-popover-button-${n}`,...u}=e,[a,i]=pe("Popover.Button"),{isPortalled:c}=me("Popover.Button"),d=(0,r.useRef)(null),f=`headlessui-focus-sentinel-${C()}`,p=be(),v=null==p?void 0:p.closeOthers,m=null!==(0,r.useContext)(Ee);(0,r.useEffect)((()=>{if(!m)return i({type:3,buttonId:o}),()=>{i({type:3,buttonId:null})}}),[m,o,i]);let[h]=(0,r.useState)((()=>Symbol())),b=w(d,t,m?null:e=>{if(e)a.buttons.current.push(h);else{let e=a.buttons.current.indexOf(h);-1!==e&&a.buttons.current.splice(e,1)}a.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),e&&i({type:2,button:e})}),y=w(d,t),P=V(d),S=g((e=>{var t,n,r;if(m){if(1===a.popoverState)return;switch(e.key){case x.Space:case x.Enter:e.preventDefault(),null==(n=(t=e.target).click)||n.call(t),i({type:1}),null==(r=a.button)||r.focus()}}else switch(e.key){case x.Space:case x.Enter:e.preventDefault(),e.stopPropagation(),1===a.popoverState&&(null==v||v(a.buttonId)),i({type:0});break;case x.Escape:if(0!==a.popoverState)return null==v?void 0:v(a.buttonId);if(!d.current||null!=P&&P.activeElement&&!d.current.contains(P.activeElement))return;e.preventDefault(),e.stopPropagation(),i({type:1})}})),N=g((e=>{m||e.key===x.Space&&e.preventDefault()})),T=g((t=>{var n,r;I(t.currentTarget)||e.disabled||(m?(i({type:1}),null==(n=a.button)||n.focus()):(t.preventDefault(),t.stopPropagation(),1===a.popoverState&&(null==v||v(a.buttonId)),i({type:0}),null==(r=a.button)||r.focus()))})),O=g((e=>{e.preventDefault(),e.stopPropagation()})),F=0===a.popoverState,L=(0,r.useMemo)((()=>({open:F})),[F]),A=function(e,t){let[n,o]=(0,r.useState)((()=>K(e)));return E((()=>{o(K(e))}),[e.type,e.as]),E((()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&o("button")}),[n,t]),n}(e,d),D=m?{ref:y,type:A,onKeyDown:S,onClick:T}:{ref:b,id:a.buttonId,type:A,"aria-expanded":0===a.popoverState,"aria-controls":a.panel?a.panelId:void 0,onKeyDown:S,onKeyUp:N,onClick:T,onMouseDown:O},H=z(),j=g((()=>{let e=a.panel;e&&l(H.current,{[J.Forwards]:()=>B(e,M.First),[J.Backwards]:()=>B(e,M.Last)})===k.Error&&B(R().filter((e=>"true"!==e.dataset.headlessuiFocusGuard)),l(H.current,{[J.Forwards]:M.Next,[J.Backwards]:M.Previous}),{relativeTo:a.button})}));return r.createElement(r.Fragment,null,s({ourProps:D,theirProps:u,slot:L,defaultTag:"button",name:"Popover.Button"}),F&&!m&&c&&r.createElement(Y,{id:f,features:X.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:j}))})),Ne=f((function(e,t){let n=C(),{id:o=`headlessui-popover-overlay-${n}`,...l}=e,[{popoverState:u},a]=pe("Popover.Overlay"),i=w(t),c=G(),d=null!==c?(c&$.Open)===$.Open:0===u;return s({ourProps:{ref:i,id:o,"aria-hidden":!0,onClick:g((e=>{if(I(e.currentTarget))return e.preventDefault();a({type:1})}))},theirProps:l,slot:(0,r.useMemo)((()=>({open:0===u})),[u]),defaultTag:"div",features:ge,visible:d,name:"Popover.Overlay"})})),Te=f((function(e,t){let n=C(),{id:o=`headlessui-popover-panel-${n}`,focus:u=!1,...a}=e,[i,c]=pe("Popover.Panel"),{close:d,isPortalled:f}=me("Popover.Panel"),p=`headlessui-focus-sentinel-before-${C()}`,v=`headlessui-focus-sentinel-after-${C()}`,m=(0,r.useRef)(null),h=w(m,t,(e=>{c({type:4,panel:e})})),b=V(m);E((()=>(c({type:5,panelId:o}),()=>{c({type:5,panelId:null})})),[o,c]);let y=G(),P=null!==y?(y&$.Open)===$.Open:0===i.popoverState,S=g((e=>{var t;if(e.key===x.Escape){if(0!==i.popoverState||!m.current||null!=b&&b.activeElement&&!m.current.contains(b.activeElement))return;e.preventDefault(),e.stopPropagation(),c({type:1}),null==(t=i.button)||t.focus()}}));(0,r.useEffect)((()=>{var t;e.static||1===i.popoverState&&(null==(t=e.unmount)||t)&&c({type:4,panel:null})}),[i.popoverState,e.unmount,e.static,c]),(0,r.useEffect)((()=>{if(i.__demoMode||!u||0!==i.popoverState||!m.current)return;let e=null==b?void 0:b.activeElement;m.current.contains(e)||B(m.current,M.First)}),[i.__demoMode,u,m,i.popoverState]);let N=(0,r.useMemo)((()=>({open:0===i.popoverState,close:d})),[i,d]),T={ref:h,id:o,onKeyDown:S,onBlur:u&&0===i.popoverState?e=>{var t,n,r,o,l;let u=e.relatedTarget;u&&m.current&&(null!=(t=m.current)&&t.contains(u)||(c({type:1}),(null!=(r=null==(n=i.beforePanelSentinel.current)?void 0:n.contains)&&r.call(n,u)||null!=(l=null==(o=i.afterPanelSentinel.current)?void 0:o.contains)&&l.call(o,u))&&u.focus({preventScroll:!0})))}:void 0,tabIndex:-1},I=z(),O=g((()=>{let e=m.current;e&&l(I.current,{[J.Forwards]:()=>{var t;B(e,M.First)===k.Error&&(null==(t=i.afterPanelSentinel.current)||t.focus())},[J.Backwards]:()=>{var e;null==(e=i.button)||e.focus({preventScroll:!0})}})})),F=g((()=>{let e=m.current;e&&l(I.current,{[J.Forwards]:()=>{var e;if(!i.button)return;let t=R(),n=t.indexOf(i.button),r=t.slice(0,n+1),o=[...t.slice(n+1),...r];for(let l of o.slice())if("true"===l.dataset.headlessuiFocusGuard||null!=(e=i.panel)&&e.contains(l)){let e=o.indexOf(l);-1!==e&&o.splice(e,1)}B(o,M.First,{sorted:!1})},[J.Backwards]:()=>{var t;B(e,M.Previous)===k.Error&&(null==(t=i.button)||t.focus())}})}));return r.createElement(Ee.Provider,{value:o},P&&f&&r.createElement(Y,{id:p,ref:i.beforePanelSentinel,features:X.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:O}),s({ourProps:T,theirProps:a,slot:N,defaultTag:"div",features:Pe,visible:P,name:"Popover.Panel"}),P&&f&&r.createElement(Y,{id:v,ref:i.afterPanelSentinel,features:X.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:F}))})),Ce=f((function(e,t){let n=(0,r.useRef)(null),o=w(n,t),[l,u]=(0,r.useState)([]),a=function(){let e=(0,r.useRef)(null);return{mainTreeNodeRef:e,MainTreeNode:(0,r.useMemo)((()=>function(){return r.createElement(Y,{features:X.Hidden,ref:e})}),[e])}}(),i=g((e=>{u((t=>{let n=t.indexOf(e);if(-1!==n){let e=t.slice();return e.splice(n,1),e}return t}))})),c=g((e=>(u((t=>[...t,e])),()=>i(e)))),d=g((()=>{var e;let t=O(n);if(!t)return!1;let r=t.activeElement;return!(null==(e=n.current)||!e.contains(r))||l.some((e=>{var n,o;return(null==(n=t.getElementById(e.buttonId.current))?void 0:n.contains(r))||(null==(o=t.getElementById(e.panelId.current))?void 0:o.contains(r))}))})),f=g((e=>{for(let t of l)t.buttonId.current!==e&&t.close()})),p=(0,r.useMemo)((()=>({registerPopover:c,unregisterPopover:i,isFocusWithinPopoverGroup:d,closeOthers:f,mainTreeNodeRef:a.mainTreeNodeRef})),[c,i,d,f,a.mainTreeNodeRef]),v=(0,r.useMemo)((()=>({})),[]),m=e,h={ref:o};return r.createElement(he.Provider,{value:p},s({ourProps:h,theirProps:m,slot:v,defaultTag:"div",name:"Popover.Group"}),r.createElement(a.MainTreeNode,null))})),xe=Object.assign(Se,{Button:we,Overlay:Ne,Panel:Te,Group:Ce})}}]);